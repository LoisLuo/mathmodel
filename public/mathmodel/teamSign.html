<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>个人</title>
		<link rel="stylesheet" type="text/css" href="css/public/reset.css" />
		<link rel="stylesheet" type="text/css" href="css/teamSign/teamSign.css" />

		<script src="js/public/jquery-3.3.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/font_580773_nsqnz3ke39uanhfr/iconfont.js" type="text/javascript" charset="utf-8"></script>
		<link rel="stylesheet" type="text/css" href="js/font_580773_nsqnz3ke39uanhfr/iconfont.css" />

	</head>

	<body>
		<div class="contain">
			<div class="captain">
				<div class="title">
					<h3>队长</h3>
				</div>
				<form action="" method="post" id="captain_form">
					<ul class="team_sign">
						<li class="school_num">
							<div class="input">
								<div class="subname">学号:</div>
								<input type="text" name="school_num" value="" />
							</div>
						</li>
						<li class="username">
							<div class="input">
								<div class="subname">姓名:</div>
								<input type="text" name="username" value="" />
							</div>
							<div class="msg">
								<span class="prompt">请输入姓名</span>
								<span class="error">请输入正确的姓名</span>
								<span class="empty">姓名不能为空</span>
								<span class="correct"><i class="iconfont icon-zhengque"></i></span>
							</div>
						</li>
						<li class="email">
							<div class="input">
								<div class="subname">邮箱:</div>
								<input type="text" name="email" value="" />
							</div>
							<div class="msg">
								<span class="prompt">请输入邮箱</span>
								<span class="error">请输入正确的邮箱</span>
								<span class="empty">邮箱不能为空</span>
								<span class="correct"><i class="iconfont icon-zhengque"></i></span>
							</div>
						</li>
						<li class="phone_num">
							<div class="input">
								<div class="subname">手机号码:</div>
								<input type="text" name="phone_num" value="" />
							</div>
							<div class="msg">
								<span class="prompt">请输入手机号</span>
								<span class="error">请输入正确的手机号</span>
								<span class="empty">手机号不能为空</span>
								<span class="correct"><i class="iconfont icon-zhengque"></i></span>
							</div>
						</li>
						<li class="department">
							<div class="dep_input">
								<div class="subname">所在院系:</div>
								<select class="dep">
									<option value="1">计算机学院计算机</option>
									<option value="2">应科院电科</option>
									<option value="3">应科院信科</option>
									<option value="3">应科院统计</option>
									<option value="3">应科院光信</option>
									<option value="4">通信工程</option>
									<option value="5">材料院无机</option>
									<option value="6">测控院测控</option>
									<option value="7">测控院通信</option>
								</select>
							</div>

							<div class="result">

							</div>
						</li>
						<li class="team_name">
							<div class="input">
								<div class="subname">队名:</div>
								<input type="text" name="teamname" value="" />
							</div>
							<div class="msg">
								<span class="prompt">请输入队名</span>
								<span class="error">请输入2-7个中文字符队名</span>
								<span class="empty">队名不能为空</span>
								<span class="correct"><i class="iconfont icon-zhengque"></i></span>
							</div>
						</li>
					</ul>

				</form>
			</div>
			<div class="player1">
				<div class="title">
					<h3>队员1 (必填)</h3>
				</div>
				<form action="" method="post" id="player1_form">
					<ul class="team_sign">
						<li class="school_num">
							<div class="input">
								<div class="subname">学号:</div>
								<input type="text" name="school_num1" value="" />
							</div>
							<div class="msg">
								<span class="prompt">请输入学号</span>
								<span class="error">请输入正确的学号</span>
								<span class="empty">学号不能为空</span>
								<span class="correct"><i class="iconfont icon-zhengque"></i></span>
							</div>
						</li>
						<li class="username">
							<div class="input">
								<div class="subname">姓名:</div>
								<input type="text" name="username1" value="" />
							</div>
							<div class="msg">
								<span class="prompt">请输入姓名</span>
								<span class="error">请输入正确的姓名</span>
								<span class="empty">姓名不能为空</span>
								<span class="correct"><i class="iconfont icon-zhengque"></i></span>
							</div>
						</li>
						<li class="email">
							<div class="input">
								<div class="subname">邮箱:</div>
								<input type="text" name="email1" value="" />
							</div>
							<div class="msg">
								<span class="prompt">请输入邮箱</span>
								<span class="error">请输入正确的邮箱</span>
								<span class="empty">邮箱不能为空</span>
								<span class="correct"><i class="iconfont icon-zhengque"></i></span>
							</div>
						</li>
						<li class="phone_num">
							<div class="input">
								<div class="subname">手机号码:</div>
								<input type="text" name="phone_num1" value="" />
							</div>
							<div class="msg">
								<span class="prompt">请输入手机号</span>
								<span class="error">请输入正确的手机号</span>
								<span class="empty">手机号不能为空</span>
								<span class="correct"><i class="iconfont icon-zhengque"></i></span>
							</div>
						</li>
						<li class="department">
							<div class="dep_input">
								<div class="subname">所在院系:</div>
								<select class="dep">
									<option value="1">计算机学院计算机</option>
									<option value="2">应科院电科</option>
									<option value="3">应科院信科</option>
									<option value="3">应科院统计</option>
									<option value="3">应科院光信</option>
									<option value="4">通信工程</option>
									<option value="5">材料院无机</option>
									<option value="6">测控院测控</option>
									<option value="7">测控院通信</option>
								</select>
							</div>

							<div class="result">

							</div>
						</li>
					</ul>
				</form>
			</div>
			<div class="player2">
				<div class="title">
					<h3>队员2 (全填或全不填)</h3>
				</div>
				<form action="" method="post" id="player2_form">
					<ul class="team_sign">
						<li class="school_num">
							<div class="input">
								<div class="subname">学号:</div>
								<input type="text" name="school_num2" value="" />
							</div>
							<div class="msg">
								<span class="prompt">请输入学号</span>
								<span class="error">请输入正确的学号</span>
								<span class="empty">学号不能为空</span>
								<span class="correct"><i class="iconfont icon-zhengque"></i></span>
							</div>
						</li>
						<li class="username">
							<div class="input">
								<div class="subname">姓名:</div>
								<input type="text" name="username2" value="" />
							</div>
							<div class="msg">
								<span class="prompt">请输入姓名</span>
								<span class="error">请输入正确的姓名</span>
								<span class="empty">姓名不能为空</span>
								<span class="correct"><i class="iconfont icon-zhengque"></i></span>
							</div>
						</li>
						<li class="email">
							<div class="input">
								<div class="subname">邮箱:</div>
								<input type="text" name="email2" value="" />
							</div>
							<div class="msg">
								<span class="prompt">请输入邮箱</span>
								<span class="error">请输入正确的邮箱</span>
								<span class="empty">邮箱不能为空</span>
								<span class="correct"><i class="iconfont icon-zhengque"></i></span>
							</div>
						</li>
						<li class="phone_num">
							<div class="input">
								<div class="subname">手机号码:</div>
								<input type="text" name="phone_num2" value="" />
							</div>
							<div class="msg">
								<span class="prompt">请输入手机号</span>
								<span class="error">请输入正确的手机号</span>
								<span class="empty">手机号不能为空</span>
								<span class="correct"><i class="iconfont icon-zhengque"></i></span>
							</div>
						</li>
						<li class="department">
							<div class="dep_input">
								<div class="subname">所在院系:</div>
								<select class="dep">
									<option value="1">计算机学院计算机</option>
									<option value="2">应科院电科</option>
									<option value="3">应科院信科</option>
									<option value="3">应科院统计</option>
									<option value="3">应科院光信</option>
									<option value="4">通信工程</option>
									<option value="5">材料院无机</option>
									<option value="6">测控院测控</option>
									<option value="7">测控院通信</option>
								</select>
							</div>

							<div class="result">

							</div>
						</li>
						<li class="remark">
							<div class="remark_input">
								<div class="subname">备注:</div>
								<textarea id="remark_text" maxlength="100" name="comment" rows="3" cols="37" placeholder="发表评论">
													
								</textarea>
							</div>

							<div class="remark_msg">
								不超过100字
							</div>
						</li>
						<li class="verf_code">
							<div class="input">
								<div class="subname">
									验证码：
								</div>
								<div class="verf_code_box">
									<div class="input">
										<input onfocus="textFocus(this)" onblur="textBlur(this)" value="请输入验证码" type="text" class="topAlign" id="verify" required>
										<canvas width="160" height="38" id="verifyCanvas"></canvas>
										<img id="code_img">
									</div>
								</div>
							</div>
							<div class="msg">
								<span class="empty">验证码不能为空</span>
								<span class="error">验证码输入错误</span>
								<span class="correct"><i class="iconfont icon-zhengque"></i></span>
							</div>
						</li>
					</ul>
					<div class="msg_err">请完成需要填写的项</div>
					<div class="submit_btn">
						确 认 报 名
					</div>
					

				</form>
			</div>
			
		</div>
		
		<script src="js/public/verification_code.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/team/team_verf.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/team/teamSign.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			captainVerf();
			player1Verf();
			player2Verf();
			$(".captain .school_num input").val(sessionStorage.getItem("username")).attr("readonly", "readonly");
			
			

			$(".submit_btn").on("click", function() {
				var username = $(".captain .username .msg .correct").css('display');
				var email = $(".captain .email .msg .correct").css('display');
				var phone_num = $(".captain .phone_num .msg .correct").css('display');
				var teamname = $(".captain .team_name .msg .correct").css('display');
				var department = $(".captain .department .dep").val();
				var verf_code = $(".player2 .verf_code .msg .correct").css('display');
				//school_num
				var school_num1 = $(".player1 .school_num .msg .correct").css('display');
				var username1 = $(".player1 .username .msg .correct").css('display');
				var email1 = $(".player1 .email .msg .correct").css('display');
				var phone_num1 = $(".player1 .phone_num .msg .correct").css('display');
				var department1 = $(".player1 .department .dep").val();

				var school_num2 = $(".player2 .school_num .msg .correct").css('display');
				var username2 = $(".player2 .username .msg .correct").css('display');
				var email2 = $(".player2 .email .msg .correct").css('display');
				var phone_num2 = $(".player2 .phone_num .msg .correct").css('display');
				var department2 = $(".player2 .department .dep").val();
				


				if(username == "none" || email == "none" || phone_num == "none" || department == null || verf_code == "none") {
					$(".msg_err").css({
						"visibility": "visible"
					})
				} else {
					if(school_num1 == "none" || username1 == "none" || email1 == "none" || phone_num1 == "none" || department1 == null) {
						$(".msg_err").css({ "visibility": "visible" })
					} else {
						if(school_num2 == "none" && username2 == "none" && email2 == "none" && phone_num2 == "none" && department2 == null) {
							teamSign.doSign();
						} else {
							if(school_num2 == "none" || username2 == "none" || email2 == "none" || phone_num2 == "none" || department2 == null){
								$(".msg_err").css({ "visibility": "visible" })
							}else{
								teamSign.doSign();
							}
							
						}
					}
				}
				
			})
		</script>
	</body>

</html>